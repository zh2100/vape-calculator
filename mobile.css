/* 移动端优化样式 */

/* 防止页面缩放 */
html {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

/* 优化触摸体验 */
* {
  -webkit-tap-highlight-color: rgba(255, 140, 66, 0.3);
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* 允许输入框选择文本 */
input, textarea {
  -webkit-user-select: text;
  -khtml-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

/* 优化滚动性能 */
body {
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
}

/* 移动端视口适配 */
@viewport {
  width: device-width;
  initial-scale: 1.0;
  maximum-scale: 1.0;
  user-scalable: no;
}

/* 响应式设计 */
@media screen and (max-width: 768px) {
  /* 确保内容不会超出屏幕 */
  body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
  
  /* 优化按钮大小 */
  button {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 16px;
  }
  
  /* 优化输入框 */
  input {
    min-height: 44px;
    font-size: 16px; /* 防止iOS缩放 */
  }
  
  /* 优化文字大小 */
  body {
    font-size: 14px;
    line-height: 1.4;
  }
}

/* 小屏幕优化 */
@media screen and (max-width: 480px) {
  /* 减少边距 */
  .container {
    padding: 10px;
  }
  
  /* 优化表格显示 */
  table {
    font-size: 12px;
  }
  
  /* 优化弹窗 */
  .dialog {
    margin: 10px;
    max-width: calc(100vw - 20px);
  }
}

/* PWA状态栏适配 */
@media screen and (display-mode: standalone) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* 横屏适配 */
@media screen and (orientation: landscape) and (max-height: 500px) {
  /* 横屏时减少垂直间距 */
  .section {
    margin-bottom: 10px;
  }
  
  /* 优化导航栏 */
  .app-bar {
    height: 48px;
  }
}

/* 高DPI屏幕优化 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* 确保图标清晰 */
  .icon {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* 深色模式适配 */
@media (prefers-color-scheme: dark) {
  /* 应用已经是深色主题，这里可以添加额外的深色模式优化 */
}

/* 减少动画以节省电量 */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
